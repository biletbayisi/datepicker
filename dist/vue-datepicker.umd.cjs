(function(t,i){typeof exports=="object"&&typeof module<"u"?module.exports=i(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],i):(t=typeof globalThis<"u"?globalThis:t||self,t.VueDatePicker=i(t.Vue,t.dateFns))})(this,function(t,i){"use strict";function gt(e){return n=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function Pt(e){return n=>i.format(new Date(`2017-01-0${n}T00:00:00+00:00`),"EEEEEE",{locale:e})}const Bt=(e,n,o)=>{const l=[1,2,3,4,5,6,7];let r;if(e!==null)try{r=l.map(Pt(e))}catch{r=l.map(gt(n))}else r=l.map(gt(n));const m=r.slice(0,o),s=r.slice(o+1,r.length);return[r[o]].concat(...s).concat(...m)},$t=(e,n)=>{const o=[];for(let l=+e[0];l<=+e[1];l++)o.push({value:+l,text:`${l}`});return n?o.reverse():o},Et=(e,n,o)=>{const l=[1,2,3,4,5,6,7,8,9,10,11,12].map(m=>{const s=m<10?`0${m}`:m;return new Date(`2017-${s}-01T00:00:00+00:00`)});if(e!==null)try{const m=o==="long"?"MMMM":"MMM";return l.map((s,h)=>{const b=i.format(s,m,{locale:e});return{text:b.charAt(0).toUpperCase()+b.substring(1),value:h}})}catch{}const r=new Intl.DateTimeFormat(n,{month:o,timeZone:"UTC"});return l.map((m,s)=>{const h=r.format(m);return{text:h.charAt(0).toUpperCase()+h.substring(1),value:s}})},ke=e=>{const n=t.unref(e);return n!=null&&n.$el?n==null?void 0:n.$el:n},Ot=e=>({type:"dot",...e??{}}),Nt=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,Qe={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},ce=e=>e,yt=e=>e===0?e:!e||isNaN(+e)?null:+e,ht=e=>e===null,Pe=(e,n,o=!1)=>{e&&n.allowStopPropagation&&(o&&e.stopImmediatePropagation(),e.stopPropagation())},_t=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function It(e,n){let o=[...document.querySelectorAll(_t())];o=o.filter(r=>!e.contains(r)||r.hasAttribute("data-datepicker-instance"));const l=o.indexOf(e);if(l>=0&&(n?l-1>=0:l+1<=o.length))return o[l+(n?-1:1)]}const Ze=e=>i.format(e,"dd-MM-yyyy"),Fe=e=>Array.isArray(e),Ue=(e,n)=>n.get(Ze(e)),Yt=(e,n)=>e?n?n instanceof Map?!!Ue(e,n):n(D(e)):!1:!0,vt=(e,n,o,l,r)=>{const m=i.parse(e,n.slice(0,e.length),new Date);return i.isValid(m)&&i.isDate(m)?l||r?m:i.set(m,{hours:+o.hours,minutes:+(o==null?void 0:o.minutes),seconds:+(o==null?void 0:o.seconds),milliseconds:0}):null},xt=(e,n,o,l,r)=>{const m=Array.isArray(o)?o[0]:o;if(typeof n=="string")return vt(e,n,m,l,r);if(Array.isArray(n)){let s=null;for(const h of n)if(s=vt(e,h,m,l,r),s)break;return s}return typeof n=="function"?n(e):null},D=e=>e?new Date(e):new Date,zt=(e,n,o)=>{if(n){const r=(e.getMonth()+1).toString().padStart(2,"0"),m=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),h=e.getMinutes().toString().padStart(2,"0"),b=o?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${r}-${m}T${s}:${h}:${b}.000Z`}const l=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(l).toISOString()},ye=e=>{let n=D(JSON.parse(JSON.stringify(e)));return n=i.setHours(n,0),n=i.setMinutes(n,0),n=i.setSeconds(n,0),n=i.setMilliseconds(n,0),n},We=(e,n,o,l)=>{let r=e?D(e):D();return(n||n===0)&&(r=i.setHours(r,+n)),(o||o===0)&&(r=i.setMinutes(r,+o)),(l||l===0)&&(r=i.setSeconds(r,+l)),i.setMilliseconds(r,0)},re=(e,n)=>!e||!n?!1:i.isBefore(ye(e),ye(n)),Z=(e,n)=>!e||!n?!1:i.isEqual(ye(e),ye(n)),oe=(e,n)=>!e||!n?!1:i.isAfter(ye(e),ye(n)),Wt=(e,n,o)=>e!=null&&e[0]&&(e!=null&&e[1])?oe(o,e[0])&&re(o,e[1]):e!=null&&e[0]&&n?oe(o,e[0])&&re(o,n)||re(o,e[0])&&oe(o,n):!1,Le=e=>{const n=i.set(new Date(e),{date:1});return ye(n)},qe=e=>({hours:i.getHours(e),minutes:i.getMinutes(e),seconds:i.getSeconds(e)}),kt=(e,n)=>{const o=oe(e,n)?n:e,l=oe(n,e)?n:e;return i.eachDayOfInterval({start:o,end:l})},Lt=e=>{const n=i.addMonths(e,1);return{month:i.getMonth(n),year:i.getYear(n)}},we=(e,n)=>{const o=i.startOfWeek(e,{weekStartsOn:+n}),l=i.endOfWeek(e,{weekStartsOn:+n});return[o,l]},bt=(e,n)=>{const o={hours:i.getHours(D()),minutes:i.getMinutes(D()),seconds:n?i.getSeconds(D()):0};return Object.assign(o,e)},Te=(e,n,o)=>[i.set(D(e),{date:1}),i.set(D(),{month:n,year:o,date:1})],Ne=(e,n,o)=>{let l=e?D(e):D();return(n||n===0)&&(l=i.setMonth(l,n)),o&&(l=i.setYear(l,o)),l},Vt=(e,n,o,l,r)=>{if(!l||r&&!n||!r&&!o)return!1;const m=r?i.addMonths(e,1):i.subMonths(e,1),s=[i.getMonth(m),i.getYear(m)];return r?!jt(...s,n):!Ht(...s,o)},Ht=(e,n,o)=>re(...Te(o,e,n))||Z(...Te(o,e,n)),jt=(e,n,o)=>oe(...Te(o,e,n))||Z(...Te(o,e,n)),Kt=(e,n,o,l,r,m,s)=>{if(typeof n=="function"&&!s)return n(e);const h=o?{locale:o}:void 0;return Array.isArray(e)?`${i.format(e[0],m,h)}${r&&!e[1]?"":l}${e[1]?i.format(e[1],m,h):""}`:i.format(e,m,h)},_e=e=>{if(e)return null;throw new Error(Qe.prop("partial-range"))},Ge=(e,n)=>{if(n)return e();throw new Error(Qe.prop("range"))},et=e=>Array.isArray(e)?i.isValid(e[0])&&(e[1]?i.isValid(e[1]):!0):e?i.isValid(e):!1,Ut=(e,n)=>i.set(n??D(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),tt=(e,n,o,l)=>{if(!e)return!0;if(l){const r=o==="max"?i.isBefore(e,n):i.isAfter(e,n),m={seconds:0,milliseconds:0};return r||i.isEqual(i.set(e,m),i.set(n,m))}return o==="max"?e.getTime()<=n.getTime():e.getTime()>=n.getTime()},nt=(e,n,o)=>e?Ut(e,n):D(o??n),Dt=(e,n,o,l,r)=>{if(Array.isArray(l)){const s=nt(e,l[0],n),h=nt(e,l[1],n);return tt(l[0],s,o,!!n)&&tt(l[1],h,o,!!n)&&r}const m=nt(e,l,n);return tt(l,m,o,!!n)&&r},at=e=>i.set(D(),qe(e)),Ve=t.reactive({menuFocused:!1,shiftKeyInMenu:!1}),wt=()=>{const e=l=>{Ve.menuFocused=l},n=l=>{Ve.shiftKeyInMenu!==l&&(Ve.shiftKeyInMenu=l)};return{control:t.computed(()=>({shiftKeyInMenu:Ve.shiftKeyInMenu,menuFocused:Ve.menuFocused})),setMenuFocused:e,setShiftKey:n}},te=t.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),lt=t.ref(null),Je=t.ref(!1),rt=t.ref(!1),ot=t.ref(!1),it=t.ref(!1),de=t.ref(0),se=t.ref(0),st=()=>{const e=t.computed(()=>Je.value?[...te.selectionGrid,te.actionRow].filter(T=>T.length):rt.value?[...te.timePicker[0],...te.timePicker[1],it.value?[]:[lt.value],te.actionRow].filter(T=>T.length):ot.value?[...te.monthPicker,te.actionRow]:[te.monthYear,...te.calendar,te.time,te.actionRow].filter(T=>T.length)),n=T=>{de.value=T?de.value+1:de.value-1;let x=null;e.value[se.value]&&(x=e.value[se.value][de.value]),x||(de.value=T?de.value-1:de.value+1)},o=T=>{if(se.value===0&&!T||se.value===e.value.length&&T)return;se.value=T?se.value+1:se.value-1,e.value[se.value]?e.value[se.value]&&!e.value[se.value][de.value]&&de.value!==0&&(de.value=e.value[se.value].length-1):se.value=T?se.value-1:se.value+1},l=T=>{let x=null;e.value[se.value]&&(x=e.value[se.value][de.value]),x?x.focus({preventScroll:!Je.value}):de.value=T?de.value-1:de.value+1},r=()=>{n(!0),l(!0)},m=()=>{n(!1),l(!1)},s=()=>{o(!1),l(!0)},h=()=>{o(!0),l(!0)},b=(T,x)=>{te[x]=T},A=(T,x)=>{te[x]=T},g=()=>{de.value=0,se.value=0};return{buildMatrix:b,buildMultiLevelMatrix:A,setTimePickerBackRef:T=>{lt.value=T},setSelectionGrid:T=>{Je.value=T,g(),T||(te.selectionGrid=[])},setTimePicker:(T,x=!1)=>{rt.value=T,it.value=x,g(),T||(te.timePicker[0]=[],te.timePicker[1]=[])},setTimePickerElements:(T,x=0)=>{te.timePicker[x]=T},arrowRight:r,arrowLeft:m,arrowUp:s,arrowDown:h,clearArrowNav:()=>{te.monthYear=[],te.calendar=[],te.time=[],te.actionRow=[],te.selectionGrid=[],te.timePicker[0]=[],te.timePicker[1]=[],Je.value=!1,rt.value=!1,it.value=!1,ot.value=!1,g(),lt.value=null},setMonthPicker:T=>{ot.value=T,g()},refSets:te}},Re=(e,n)=>n?new Date(e.toLocaleString("en-US",{timeZone:n})):new Date(e),Mt=(e,n)=>{const o=ut(e,n);return o||D()},qt=(e,n)=>n.dateInTz?Re(new Date(e),n.dateInTz):D(e),ut=(e,n)=>{if(!e)return null;if(!n)return D(e);const o=D(e);return n.exactMatch?qt(e,n):Re(o,n.timezone)},St=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),Gt=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...e??{}}),At=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,Jt=e=>{const n=typeof e=="object"&&e,o={static:!0,solo:!1};if(!e)return{...o,count:At(!1)};const l=n?e:{},r=n?l.count??!0:e,m=At(r);return Object.assign(o,l,{count:m})},Xt=(e,n,o)=>e||(typeof o=="string"?o:n),Qt=e=>typeof e=="boolean"?e?St({}):!1:St(e),Zt=e=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof e=="object"?{...n,...e??{},enabled:!0}:{...n,enabled:e}},Ft=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),en=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),tn=e=>{const n={input:!1};return typeof e=="object"?{...n,...e??{},enabled:!0}:{enabled:e,...n}},nn=e=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0},...e??{}}),an=e=>{const n={dates:Array.isArray(e)?e.map(o=>D(o)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...n,...e??{}}},ln=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},rn=(e,n)=>{const o={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...o,...e}:{enabled:e,noDisabledRange:n.noDisabledRange,showLastInRange:n.showLastInRange,minMaxRawRange:n.minMaxRawRange,partialRange:n.partialRange,disableTimeRangeValidation:n.disableTimeRangeValidation,maxRange:n.maxRange,minRange:n.minRange,autoRange:n.autoRange,fixedStart:n.fixedStart,fixedEnd:n.fixedEnd}},on=(e,n)=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:n}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:n??e.emitTimezone}:{timezone:void 0,exactMatch:!1,emitTimezone:n},ct=(e,n)=>new Map(e.map(o=>{const l=Mt(o,n);return[Ze(l),l]})),sn=(e,n)=>e.length?new Map(e.map(o=>{const l=Mt(o.date,n);return[Ze(l),o]})):null,un=(e,n,o,l,r,m,s)=>({minDate:ut(e,s),maxDate:ut(n,s),disabledDates:Fe(o)?ct(o,s):o,allowedDates:Fe(l)?ct(l,s):null,highlight:typeof r=="object"&&Fe(r==null?void 0:r.dates)?ct(r.dates,s):r,markers:sn(m,s)}),he=e=>{const n=()=>{const J=e.enableSeconds?":ss":"";return e.is24?`HH:mm${J}`:`hh:mm${J} aa`},o=()=>{var J;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?n():e.weekPicker?`${((J=X.value)==null?void 0:J.type)==="iso"?"RR":"ww"}-yyyy`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},l=J=>bt(J,e.enableSeconds),r=()=>U.value.enabled?e.startTime&&Array.isArray(e.startTime)?[l(e.startTime[0]),l(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?l(e.startTime):null,m=t.computed(()=>Jt(e.multiCalendars)),s=t.computed(()=>r()),h=t.computed(()=>Gt(e.ariaLabels)),b=t.computed(()=>Ft(e.filters)),A=t.computed(()=>Qt(e.transitions)),g=t.computed(()=>en(e.actionRow)),B=t.computed(()=>Xt(e.previewFormat,e.format,o())),N=t.computed(()=>Zt(e.textInput)),w=t.computed(()=>tn(e.inline)),Y=t.computed(()=>nn(e.config)),L=t.computed(()=>an(e.highlight)),X=t.computed(()=>ln(e.weekNumbers)),T=t.computed(()=>on(e.timezone,e.emitTimezone)),x=t.computed(()=>un(e.minDate,e.maxDate,e.disabledDates,e.allowedDates,L.value,e.markers,T.value)),U=t.computed(()=>rn(e.range,{minMaxRawRange:!1,maxRange:e.maxRange,minRange:e.minRange,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd}));return{defaultedTransitions:A,defaultedMultiCalendars:m,defaultedStartTime:s,defaultedAriaLabels:h,defaultedFilters:b,defaultedActionRow:g,defaultedPreviewFormat:B,defaultedTextInput:N,defaultedInline:w,defaultedConfig:Y,defaultedHighlight:L,defaultedWeekNumbers:X,defaultedRange:U,propDates:x,defaultedTz:T,getDefaultPattern:o,getDefaultStartTime:r}},cn=(e,n,o)=>{const l=t.ref(),{defaultedTextInput:r,defaultedRange:m,defaultedTz:s,getDefaultPattern:h}=he(n),b=t.ref(""),A=t.toRef(n,"format");t.watch(l,()=>{e("internal-model-change",l.value)},{deep:!0}),t.watch(A,()=>{I()});const g=(a,c,E=!1)=>Kt(a,n.format,n.formatLocale,r.value.rangeSeparator,n.modelAuto,c??h(),E),B=a=>a?n.modelType?v(a):{hours:i.getHours(a),minutes:i.getMinutes(a),seconds:n.enableSeconds?i.getSeconds(a):0}:null,N=a=>n.modelType?v(a):{month:i.getMonth(a),year:i.getYear(a)},w=a=>Array.isArray(a)?n.multiDates?a.map(c=>Y(c,i.setYear(D(),c))):Ge(()=>[i.setYear(D(),a[0]),a[1]?i.setYear(D(),a[1]):_e(m.value.partialRange)],m.value.enabled):i.setYear(D(),+a),Y=(a,c)=>(typeof a=="string"||typeof a=="number")&&n.modelType?K(a):c,L=a=>Array.isArray(a)?[Y(a[0],We(null,+a[0].hours,+a[0].minutes,a[0].seconds)),Y(a[1],We(null,+a[1].hours,+a[1].minutes,a[1].seconds))]:Y(a,We(null,a.hours,a.minutes,a.seconds)),X=a=>{const c=i.set(D(),{date:1});return Array.isArray(a)?n.multiDates?a.map(E=>Y(E,Ne(c,+E.month,+E.year))):Ge(()=>[Y(a[0],Ne(c,+a[0].month,+a[0].year)),Y(a[1],a[1]?Ne(c,+a[1].month,+a[1].year):_e(m.value.partialRange))],m.value.enabled):Y(a,Ne(c,+a.month,+a.year))},T=a=>{if(Array.isArray(a))return a.map(c=>K(c));throw new Error(Qe.dateArr("multi-dates"))},x=a=>{if(Array.isArray(a)&&m.value.enabled){const c=a[0],E=a[1];return[D(Array.isArray(c)?c[0]:null),D(Array.isArray(E)?E[0]:null)]}return D(a[0])},U=a=>n.modelAuto?Array.isArray(a)?[K(a[0]),K(a[1])]:n.autoApply?[K(a)]:[K(a),null]:Array.isArray(a)?Ge(()=>a[1]?[K(a[0]),a[1]?K(a[1]):_e(m.value.partialRange)]:[K(a[0])],m.value.enabled):K(a),J=()=>{Array.isArray(l.value)&&m.value.enabled&&l.value.length===1&&l.value.push(_e(m.value.partialRange))},ae=()=>{const a=l.value;return[v(a[0]),a[1]?v(a[1]):_e(m.value.partialRange)]},le=()=>l.value[1]?ae():v(ce(l.value[0])),ee=()=>(l.value||[]).map(a=>v(a)),q=()=>(J(),n.modelAuto?le():n.multiDates?ee():Array.isArray(l.value)?Ge(()=>ae(),m.value.enabled):v(ce(l.value))),F=a=>!a||Array.isArray(a)&&!a.length?null:n.timePicker?L(ce(a)):n.monthPicker?X(ce(a)):n.yearPicker?w(ce(a)):n.multiDates?T(ce(a)):n.weekPicker?x(ce(a)):U(ce(a)),ie=a=>{const c=F(a);et(ce(c))?(l.value=ce(c),I()):(l.value=null,b.value="")},y=()=>{const a=c=>i.format(c,r.value.format);return`${a(l.value[0])} ${r.value.rangeSeparator} ${l.value[1]?a(l.value[1]):""}`},M=()=>o.value&&l.value?Array.isArray(l.value)?y():i.format(l.value,r.value.format):g(l.value),$=()=>l.value?n.multiDates?l.value.map(a=>g(a)).join("; "):r.value.enabled&&typeof r.value.format=="string"?M():g(l.value):"",I=()=>{!n.format||typeof n.format=="string"||r.value.enabled&&typeof r.value.format=="string"?b.value=$():b.value=n.format(l.value)},K=a=>{if(n.utc){const c=new Date(a);return n.utc==="preserve"?new Date(c.getTime()+c.getTimezoneOffset()*6e4):c}return n.modelType?n.modelType==="date"||n.modelType==="timestamp"?new Date(a):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?i.parse(a,h(),new Date):i.parse(a,n.modelType,new Date):new Date(a)},v=a=>a?n.utc?zt(a,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+a:n.modelType==="format"&&(typeof n.format=="string"||!n.format)?g(a):g(a,n.modelType,!0):a:"",d=(a,c=!1)=>{if(e("update:model-value",a),s.value.emitTimezone&&c){const E=Array.isArray(a)?a.map(Q=>Re(ce(Q),s.value.emitTimezone)):Re(ce(a),s.value.emitTimezone);e("update:model-timezone-value",E)}},P=a=>Array.isArray(l.value)?n.multiDates?l.value.map(c=>a(c)):[a(l.value[0]),l.value[1]?a(l.value[1]):_e(m.value.partialRange)]:a(ce(l.value)),V=()=>{if(Array.isArray(l.value)){const a=we(l.value[0],n.weekStart),c=l.value[1]?we(l.value[1],n.weekStart):[];return[a.map(E=>D(E)),c.map(E=>D(E))]}return we(l.value,n.weekStart).map(a=>D(a))},S=a=>d(ce(P(a)));return{inputValue:b,internalModelValue:l,checkBeforeEmit:()=>l.value?m.value.enabled?m.value.partialRange?l.value.length>=1:l.value.length===2:!!l.value:!1,parseExternalModelValue:ie,formatInputValue:I,emitModelValue:()=>(I(),n.monthPicker?S(N):n.timePicker?S(B):n.yearPicker?S(i.getYear):n.weekPicker?e("update:model-value",V()):d(q(),!0))}},dn=(e,n)=>{const{defaultedFilters:o,propDates:l}=he(e),{validateMonthYearInRange:r}=je(e),m=(g,B)=>{let N=g;return o.value.months.includes(i.getMonth(N))?(N=B?i.addMonths(g,1):i.subMonths(g,1),m(N,B)):N},s=(g,B)=>{let N=g;return o.value.years.includes(i.getYear(N))?(N=B?i.addYears(g,1):i.subYears(g,1),s(N,B)):N},h=(g,B=!1)=>{const N=i.set(D(),{month:e.month,year:e.year});let w=g?i.addMonths(N,1):i.subMonths(N,1);e.disableYearSelect&&(w=i.setYear(w,e.year));let Y=i.getMonth(w),L=i.getYear(w);o.value.months.includes(Y)&&(w=m(w,g),Y=i.getMonth(w),L=i.getYear(w)),o.value.years.includes(L)&&(w=s(w,g),L=i.getYear(w)),r(Y,L,g,e.preventMinMaxNavigation)&&b(Y,L,B)},b=(g,B,N)=>{n("update-month-year",{month:g,year:B,fromNav:N})},A=t.computed(()=>g=>Vt(i.set(D(),{month:e.month,year:e.year}),l.value.maxDate,l.value.minDate,e.preventMinMaxNavigation,g));return{handleMonthYearChange:h,isDisabled:A,updateMonthYear:b}};var Ie=(e=>(e.center="center",e.left="left",e.right="right",e))(Ie||{}),Be=(e=>(e.top="top",e.bottom="bottom",e))(Be||{}),Ye=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Ye||{}),be=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(be||{});const fn=({menuRef:e,menuRefInner:n,inputRef:o,pickerWrapperRef:l,inline:r,emit:m,props:s,slots:h})=>{const b=t.ref({}),A=t.ref(!1),g=t.ref({top:"0",left:"0"}),B=t.ref(!1),N=t.toRef(s,"teleportCenter");t.watch(N,()=>{g.value=JSON.parse(JSON.stringify({})),J()});const w=v=>{if(s.teleport){const d=v.getBoundingClientRect();return{left:d.left+window.scrollX,top:d.top+window.scrollY}}return{top:0,left:0}},Y=(v,d)=>{g.value.left=`${v+d-b.value.width}px`},L=v=>{g.value.left=`${v}px`},X=(v,d)=>{s.position===Ie.left&&L(v),s.position===Ie.right&&Y(v,d),s.position===Ie.center&&(g.value.left=`${v+d/2-b.value.width/2}px`)},T=v=>{const{width:d,height:P}=v.getBoundingClientRect(),{top:V,left:S}=s.altPosition?s.altPosition(v):w(v);return{top:+V,left:+S,width:d,height:P}},x=()=>{g.value.left="50%",g.value.top="50%",g.value.transform="translate(-50%, -50%)",g.value.position="fixed",delete g.value.opacity},U=()=>{const v=ke(o),{top:d,left:P,transform:V}=s.altPosition(v);g.value={top:`${d}px`,left:`${P}px`,transform:V??""}},J=(v=!0)=>{var d;if(!r.value.enabled){if(N.value)return x();if(s.altPosition!==null)return U();if(v){const P=s.teleport?(d=n.value)==null?void 0:d.$el:e.value;P&&(b.value=P.getBoundingClientRect()),m("recalculate-position")}return y()}},ae=({inputEl:v,left:d,width:P})=>{window.screen.width>768&&!A.value&&X(d,P),q(v)},le=v=>{const{top:d,left:P,height:V,width:S}=T(v);g.value.top=`${V+d+ +s.offset}px`,B.value=!1,A.value||(g.value.left=`${P+S/2-b.value.width/2}px`),ae({inputEl:v,left:P,width:S})},ee=v=>{const{top:d,left:P,width:V}=T(v);g.value.top=`${d-+s.offset-b.value.height}px`,B.value=!0,ae({inputEl:v,left:P,width:V})},q=v=>{if(s.autoPosition){const{left:d,width:P}=T(v),{left:V,right:S}=b.value;if(!A.value){if(Math.abs(V)!==Math.abs(S)){if(V<=0)return A.value=!0,L(d);if(S>=document.documentElement.clientWidth)return A.value=!0,Y(d,P)}return X(d,P)}}},F=()=>{const v=ke(o);if(v){const{height:d}=b.value,{top:P,height:V}=v.getBoundingClientRect(),f=window.innerHeight-P-V,R=P;return d<=f?Be.bottom:d>f&&d<=R?Be.top:f>=R?Be.bottom:Be.top}return Be.bottom},ie=v=>F()===Be.bottom?le(v):ee(v),y=()=>{const v=ke(o);if(v)return s.autoPosition?ie(v):le(v)},M=function(v){if(v){const d=v.scrollHeight>v.clientHeight,V=window.getComputedStyle(v).overflowY.indexOf("hidden")!==-1;return d&&!V}return!0},$=function(v){return!v||v===document.body||v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:M(v)?v:$(v.parentNode)},I=v=>{if(v)switch(s.position){case Ie.left:return{left:0,transform:"translateX(0)"};case Ie.right:return{left:`${v.width}px`,transform:"translateX(-100%)"};default:return{left:`${v.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:B,menuStyle:g,xCorrect:A,setMenuPosition:J,getScrollableParent:$,shadowRender:(v,d)=>{var a,c,E;const P=document.createElement("div"),V=(a=ke(o))==null?void 0:a.getBoundingClientRect();P.setAttribute("id","dp--temp-container");const S=(c=l.value)!=null&&c.clientWidth?l.value:document.body;S.append(P);const f=I(V),R=t.h(v,{...d,shadow:!0,style:{opacity:0,position:"absolute",...f}},Object.fromEntries(Object.keys(h).filter(Q=>["right-sidebar","left-sidebar"].includes(Q)).map(Q=>[Q,h[Q]])));t.render(R,P),b.value=(E=R.el)==null?void 0:E.getBoundingClientRect(),t.render(null,P),S.removeChild(P)}}},He=[{name:"month-year",use:["month-year","shared"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"marker",use:["calendar","shared"]},{name:"left-sidebar",use:["menu"]},{name:"calendar-bottom-marker-description-area",use:["calendar","shared"]}],mn=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],pn={all:()=>He,input:()=>mn,calendar:()=>He.filter(e=>e.use.includes("calendar")),menu:()=>He.filter(e=>e.use.includes("menu")),shared:()=>He.filter(e=>e.use.includes("shared")),monthYear:()=>He.filter(e=>e.use.includes("month-year"))},xe=(e,n,o)=>{const l=[];return pn[n]().forEach(r=>{e[r.name]&&l.push(r.name)}),o!=null&&o.length&&o.forEach(r=>{r.slot&&l.push(r.slot)}),l},gn=e=>{const n=t.computed(()=>l=>e.value?l?e.value.open:e.value.close:""),o=t.computed(()=>l=>e.value?l?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!e.value,menuTransition:o}},yn=(e,n)=>{const{defaultedRange:o,defaultedTz:l}=he(e),r=D(Re(D(),l.value.timezone)),m=t.ref([{month:i.getMonth(r),year:i.getYear(r)}]),s=t.reactive({hours:o.value.enabled?[i.getHours(r),i.getHours(r)]:i.getHours(r),minutes:o.value.enabled?[i.getMinutes(r),i.getMinutes(r)]:i.getMinutes(r),seconds:o.value.enabled?[0,0]:0}),h=t.computed({get:()=>e.internalModelValue,set:g=>{!e.readonly&&!e.disabled&&n("update:internal-model-value",g)}}),b=t.computed(()=>g=>m.value[g]?m.value[g].month:0),A=t.computed(()=>g=>m.value[g]?m.value[g].year:0);return{calendars:m,time:s,modelValue:h,month:b,year:A}},hn=(e,n)=>{const{defaultedMultiCalendars:o,defaultedHighlight:l,defaultedTz:r,propDates:m,defaultedRange:s}=he(n),{isDisabled:h}=je(n),b=t.ref(null),A=t.ref(Re(new Date,r.value.timezone)),g=a=>{!a.current&&n.hideOffsetDates||(b.value=a.value)},B=()=>{b.value=null},N=a=>Array.isArray(e.value)&&s.value.enabled&&e.value[0]&&b.value?a?oe(b.value,e.value[0]):re(b.value,e.value[0]):!0,w=(a,c)=>{const E=()=>e.value?c?e.value[0]||null:e.value[1]:null,Q=e.value&&Array.isArray(e.value)?E():null;return Z(D(a.value),Q)},Y=a=>{const c=Array.isArray(e.value)?e.value[0]:null;return a?!re(b.value??null,c):!0},L=(a,c=!0)=>(s.value.enabled||n.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?n.hideOffsetDates&&!a.current?!1:Z(D(a.value),e.value[c?0:1]):s.value.enabled?w(a,c)&&Y(c)||Z(a.value,Array.isArray(e.value)?e.value[0]:null)&&N(c):!1,X=(a,c,E)=>Array.isArray(e.value)&&e.value[0]&&e.value.length===1?a?!1:E?oe(e.value[0],c.value):re(e.value[0],c.value):!1,T=a=>!e.value||n.hideOffsetDates&&!a.current?!1:s.value.enabled?n.modelAuto&&Array.isArray(e.value)?Z(a.value,e.value[0]?e.value[0]:A.value):!1:n.multiDates&&Array.isArray(e.value)?e.value.some(c=>Z(c,a.value)):Z(a.value,e.value?e.value:A.value),x=a=>{if(s.value.autoRange||n.weekPicker){if(b.value){if(n.hideOffsetDates&&!a.current)return!1;const c=i.addDays(b.value,+s.value.autoRange),E=we(D(b.value),n.weekStart);return n.weekPicker?Z(E[1],D(a.value)):Z(c,D(a.value))}return!1}return!1},U=a=>{if(s.value.autoRange||n.weekPicker){if(b.value){const c=i.addDays(b.value,+s.value.autoRange);if(n.hideOffsetDates&&!a.current)return!1;const E=we(D(b.value),n.weekStart);return n.weekPicker?oe(a.value,E[0])&&re(a.value,E[1]):oe(a.value,b.value)&&re(a.value,c)}return!1}return!1},J=a=>{if(s.value.autoRange||n.weekPicker){if(b.value){if(n.hideOffsetDates&&!a.current)return!1;const c=we(D(b.value),n.weekStart);return n.weekPicker?Z(c[0],a.value):Z(b.value,a.value)}return!1}return!1},ae=a=>Wt(e.value,b.value,a.value),le=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,ee=()=>n.modelAuto?Nt(n.internalModelValue):!0,q=a=>{if(Array.isArray(e.value)&&e.value.length||n.weekPicker)return!1;const c=s.value.enabled?!L(a)&&!L(a,!1):!0;return!h(a.value)&&!T(a)&&!(!a.current&&n.hideOffsetDates)&&c},F=a=>s.value.enabled?n.modelAuto?le()&&T(a):!1:T(a),ie=a=>l.value?Yt(a.value,m.value.highlight):!1,y=a=>{const c=h(a.value);return c&&(typeof l.value=="function"?!l.value(a.value,c):!l.value.options.highlightDisabled)},M=a=>{var c;return typeof l.value=="function"?l.value(a.value):(c=l.value.weekdays)==null?void 0:c.includes(a.value.getDay())},$=a=>(s.value.enabled||n.weekPicker)&&(!(o.value.count>0)||a.current)&&ee()&&!(!a.current&&n.hideOffsetDates)&&!T(a)?ae(a):!1,I=a=>{const{isRangeStart:c,isRangeEnd:E}=P(a),Q=s.value.enabled?c||E:!1;return{dp__cell_offset:!a.current,dp__pointer:!n.disabled&&!(!a.current&&n.hideOffsetDates)&&!h(a.value),dp__cell_disabled:h(a.value),dp__cell_highlight:!y(a)&&(ie(a)||M(a))&&!F(a)&&!Q&&!J(a)&&!($(a)&&n.weekPicker)&&!E,dp__cell_highlight_active:!y(a)&&(ie(a)||M(a))&&F(a),dp__today:!n.noToday&&Z(a.value,A.value)&&a.current,"dp--past":re(a.value,A.value),"dp--future":oe(a.value,A.value)}},K=a=>({dp__active_date:F(a),dp__date_hover:q(a)}),v=a=>{if(e.value&&!Array.isArray(e.value)){const c=we(e.value,n.weekStart);return{...S(a),dp__range_start:Z(c[0],a.value),dp__range_end:Z(c[1],a.value),dp__range_between_week:oe(a.value,c[0])&&re(a.value,c[1])}}return{...S(a)}},d=a=>{if(e.value&&Array.isArray(e.value)){const c=we(e.value[0],n.weekStart),E=e.value[1]?we(e.value[1],n.weekStart):[];return{...S(a),dp__range_start:Z(c[0],a.value)||Z(E[0],a.value),dp__range_end:Z(c[1],a.value)||Z(E[1],a.value),dp__range_between_week:oe(a.value,c[0])&&re(a.value,c[1])||oe(a.value,E[0])&&re(a.value,E[1]),dp__range_between:oe(a.value,c[1])&&re(a.value,E[0])}}return{...S(a)}},P=a=>{const c=o.value.count>0?a.current&&L(a)&&ee():L(a)&&ee(),E=o.value.count>0?a.current&&L(a,!1)&&ee():L(a,!1)&&ee();return{isRangeStart:c,isRangeEnd:E}},V=a=>{const{isRangeStart:c,isRangeEnd:E}=P(a);return{dp__range_start:c,dp__range_end:E,dp__range_between:$(a),dp__date_hover_start:X(q(a),a,!0),dp__date_hover_end:X(q(a),a,!1)}},S=a=>({...V(a),dp__cell_auto_range:U(a),dp__cell_auto_range_start:J(a),dp__cell_auto_range_end:x(a)}),f=a=>s.value.enabled?s.value.autoRange?S(a):n.modelAuto?{...K(a),...V(a)}:n.weekPicker?d(a):V(a):n.weekPicker?v(a):K(a);return{setHoverDate:g,clearHoverDate:B,getDayClassData:a=>n.hideOffsetDates&&!a.current?{}:{...I(a),...f(a),[n.dayClass?n.dayClass(a.value):""]:!0,[n.calendarCellClassName]:!!n.calendarCellClassName}}},je=e=>{const{defaultedFilters:n,defaultedRange:o,propDates:l}=he(e),r=y=>l.value.disabledDates?typeof l.value.disabledDates=="function"?l.value.disabledDates(D(y)):!!Ue(y,l.value.disabledDates):!1,m=y=>{const M=l.value.maxDate?oe(y,l.value.maxDate):!1,$=l.value.minDate?re(y,l.value.minDate):!1,I=r(y),v=n.value.months.map(f=>+f).includes(i.getMonth(y)),d=e.disabledWeekDays.length?e.disabledWeekDays.some(f=>+f===i.getDay(y)):!1,P=g(y),V=i.getYear(y),S=V<+e.yearRange[0]||V>+e.yearRange[1];return!(M||$||I||v||S||d||P)},s=(y,M)=>re(...Te(l.value.minDate,y,M))||Z(...Te(l.value.minDate,y,M)),h=(y,M)=>oe(...Te(l.value.maxDate,y,M))||Z(...Te(l.value.maxDate,y,M)),b=(y,M,$)=>{let I=!1;return l.value.maxDate&&$&&h(y,M)&&(I=!0),l.value.minDate&&!$&&s(y,M)&&(I=!0),I},A=(y,M,$,I)=>{let K=!1;return I?l.value.minDate&&l.value.maxDate?K=b(y,M,$):(l.value.minDate&&s(y,M)||l.value.maxDate&&h(y,M))&&(K=!0):K=!0,K},g=y=>Array.isArray(l.value.allowedDates)&&!l.value.allowedDates.length?!0:l.value.allowedDates?!Ue(y,l.value.allowedDates):!1,B=y=>!m(y),N=y=>o.value.noDisabledRange?!i.eachDayOfInterval({start:y[0],end:y[1]}).some($=>B($)):!0,w=y=>{if(y){const M=i.getYear(y);return M>=+e.yearRange[0]&&M<=e.yearRange[1]}return!0},Y=(y,M)=>!!(Array.isArray(y)&&y[M]&&(o.value.maxRange||o.value.minRange)&&w(y[M])),L=(y,M,$=0)=>{if(Y(M,$)&&w(y)){const I=i.differenceInCalendarDays(y,M[$]),K=kt(M[$],y),v=K.length===1?0:K.filter(P=>B(P)).length,d=Math.abs(I)-(o.value.minMaxRawRange?0:v);if(o.value.minRange&&o.value.maxRange)return d>=+o.value.minRange&&d<=+o.value.maxRange;if(o.value.minRange)return d>=+o.value.minRange;if(o.value.maxRange)return d<=+o.value.maxRange}return!0},X=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,T=y=>Array.isArray(y)?[y[0]?at(y[0]):null,y[1]?at(y[1]):null]:at(y),x=(y,M,$)=>y.find(I=>+I.hours===i.getHours(M)&&I.minutes==="*"?!0:+I.minutes===i.getMinutes(M)&&+I.hours===i.getHours(M))&&$,U=(y,M,$)=>{const[I,K]=y,[v,d]=M;return!x(I,v,$)&&!x(K,d,$)&&$},J=(y,M)=>{const $=Array.isArray(M)?M:[M];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?U(e.disabledTimes,$,y):!$.some(I=>x(e.disabledTimes,I,y)):y},ae=(y,M)=>{const $=Array.isArray(M)?[qe(M[0]),M[1]?qe(M[1]):void 0]:qe(M),I=!e.disabledTimes($);return y&&I},le=(y,M)=>e.disabledTimes?Array.isArray(e.disabledTimes)?J(M,y):ae(M,y):M,ee=y=>{let M=!0;if(!y||X())return!0;const $=!l.value.minDate&&!l.value.maxDate?T(y):y;return(e.maxTime||l.value.maxDate)&&(M=Dt(e.maxTime,l.value.maxDate,"max",ce($),M)),(e.minTime||l.value.minDate)&&(M=Dt(e.minTime,l.value.minDate,"min",ce($),M)),le(y,M)},q=y=>{if(!e.monthPicker)return!0;let M=!0;const $=D(Le(y));if(l.value.minDate&&l.value.maxDate){const I=D(Le(l.value.minDate)),K=D(Le(l.value.maxDate));return oe($,I)&&re($,K)||Z($,I)||Z($,K)}if(l.value.minDate){const I=D(Le(l.value.minDate));M=oe($,I)||Z($,I)}if(l.value.maxDate){const I=D(Le(l.value.maxDate));M=re($,I)||Z($,I)}return M},F=t.computed(()=>y=>!e.enableTimePicker||e.ignoreTimeValidation?!0:ee(y)),ie=t.computed(()=>y=>e.monthPicker?Array.isArray(y)&&(o.value.enabled||e.multiDates)?!y.filter($=>!q($)).length:q(y):!0);return{isDisabled:B,validateDate:m,validateMonthYearInRange:A,isDateRangeAllowed:N,checkMinMaxRange:L,isValidTime:ee,isTimeValid:F,isMonthValid:ie}},vn=(e,n,o)=>{const l=t.ref(0),r=t.reactive({[Ye.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Ye.calendar]:!1,[Ye.header]:!1}),m=t.computed(()=>e.monthPicker),s=B=>{var N;if((N=e.flow)!=null&&N.length){if(!B&&m.value)return g();r[B]=!0,Object.keys(r).filter(w=>!r[w]).length||g()}},h=()=>{var B;(B=e.flow)!=null&&B.length&&l.value!==-1&&(l.value+=1,n("flow-step",l.value),g())},b=()=>{l.value=-1},A=(B,N,...w)=>{var Y,L;e.flow[l.value]===B&&o.value&&((L=(Y=o.value)[N])==null||L.call(Y,...w))},g=()=>{A(be.month,"toggleMonthPicker",!0),A(be.year,"toggleYearPicker",!0),A(be.calendar,"toggleTimePicker",!1,!0),A(be.time,"toggleTimePicker",!0,!0);const B=e.flow[l.value];(B===be.hours||B===be.minutes||B===be.seconds)&&A(B,"toggleTimePicker",!0,!0,B)};return{childMount:s,updateFlowStep:h,resetFlow:b,flowStep:l}},Xe={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!0},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!0},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!1},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!0},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"tr-TR"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!1},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!0},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},dt={...Xe,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null}},kn={key:1,class:"dp__input_wrap"},bn=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Dn={key:2,class:"dp__clear_icon"},wn=t.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Xe},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:n,emit:o}){const l=o,r=e,{defaultedTextInput:m,defaultedAriaLabels:s,defaultedInline:h,defaultedConfig:b,defaultedRange:A,getDefaultPattern:g,getDefaultStartTime:B}=he(r),{checkMinMaxRange:N}=je(r),w=t.ref(),Y=t.ref(null),L=t.ref(!1),X=t.ref(!1),T=t.computed(()=>({dp__pointer:!r.disabled&&!r.readonly&&!m.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!m.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:!!r.state,dp__input_invalid:r.state===!1,dp__input_focus:L.value||r.isMenuOpen,dp__input_reg:!m.value.enabled,[r.inputClassName]:!!r.inputClassName})),x=()=>{l("set-input-date",null),r.autoApply&&(l("set-empty-date"),w.value=null)},U=d=>{const P=B();return xt(d,m.value.format??g(),P??bt({},r.enableSeconds),r.inputValue,X.value)},J=d=>{const{rangeSeparator:P}=m.value,[V,S]=d.split(`${P}`);if(V){const f=U(V.trim()),R=S?U(S.trim()):null,a=f&&R?[f,R]:[f];N(R,a,0)&&(w.value=f?a:null)}},ae=()=>{X.value=!0},le=d=>{if(A.value.enabled)J(d);else if(r.multiDates){const P=d.split(";");w.value=P.map(V=>U(V.trim())).filter(V=>V)}else w.value=U(d)},ee=d=>{var V;const P=typeof d=="string"?d:(V=d.target)==null?void 0:V.value;P!==""?(m.value.openMenu&&!r.isMenuOpen&&l("open"),le(P),l("set-input-date",w.value)):x(),X.value=!1,l("update:input-value",P)},q=d=>{m.value.enabled?(le(d.target.value),m.value.enterSubmit&&et(w.value)&&r.inputValue!==""?(l("set-input-date",w.value,!0),w.value=null):m.value.enterSubmit&&r.inputValue===""&&(w.value=null,l("clear"))):y(d)},F=d=>{m.value.enabled&&m.value.tabSubmit&&le(d.target.value),m.value.tabSubmit&&et(w.value)&&r.inputValue!==""?(l("set-input-date",w.value,!0,!0),w.value=null):m.value.tabSubmit&&r.inputValue===""&&(w.value=null,l("clear",!0))},ie=()=>{var d;L.value=!0,l("focus"),m.value.enabled&&m.value.selectOnFocus&&((d=Y.value)==null||d.select())},y=d=>{d.preventDefault(),Pe(d,b.value,!0),m.value.enabled&&m.value.openMenu&&!h.value.input&&!r.isMenuOpen?l("open"):m.value.enabled||l("toggle")},M=()=>{l("real-blur"),L.value=!1,(!r.isMenuOpen||h.value.enabled&&h.value.input)&&l("blur"),r.autoApply&&m.value.enabled&&w.value&&!r.isMenuOpen&&(l("set-input-date",w.value),l("select-date"),w.value=null)},$=d=>{Pe(d,b.value,!0),l("clear")},I=d=>{if(!m.value.enabled){if(d.code==="Tab")return;d.preventDefault()}};return n({focusInput:()=>{var d;(d=Y.value)==null||d.focus({preventScroll:!0})},setParsedDate:d=>{w.value=d}}),(d,P)=>{var V;return t.openBlock(),t.createElementBlock("div",{onClick:y},[d.$slots.trigger&&!d.$slots["dp-input"]&&!t.unref(h).enabled?t.renderSlot(d.$slots,"trigger",{key:0}):t.createCommentVNode("",!0),!d.$slots.trigger&&(!t.unref(h).enabled||t.unref(h).input)?(t.openBlock(),t.createElementBlock("div",kn,[d.$slots["dp-input"]&&!d.$slots.trigger&&(!t.unref(h).enabled||t.unref(h).enabled&&t.unref(h).input)?t.renderSlot(d.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:ee,onEnter:q,onTab:F,onClear:$,onBlur:M,onKeypress:I,onPaste:ae,openMenu:()=>d.$emit("open"),closeMenu:()=>d.$emit("close"),toggleMenu:()=>d.$emit("toggle")}):t.createCommentVNode("",!0),d.$slots["dp-input"]?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("input",{key:1,id:d.uid?`dp-input-${d.uid}`:void 0,ref_key:"inputRef",ref:Y,name:d.name,class:t.normalizeClass(T.value),inputmode:t.unref(m).enabled?"text":"none",placeholder:d.placeholder,disabled:d.disabled,readonly:d.readonly,required:d.required,value:e.inputValue,autocomplete:d.autocomplete,"aria-label":(V=t.unref(s))==null?void 0:V.input,"aria-disabled":d.disabled||void 0,"aria-invalid":d.state===!1?!0:void 0,onInput:ee,onKeydown:[t.withKeys(q,["enter"]),t.withKeys(F,["tab"]),I],onBlur:M,onFocus:ie,onKeypress:I,onPaste:ae},null,42,bn)),t.createElementVNode("div",{onClick:P[1]||(P[1]=S=>l("toggle"))},[d.$slots["input-icon"]&&!d.hideInputIcon?(t.openBlock(),t.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:P[0]||(P[0]=S=>l("toggle"))},[t.renderSlot(d.$slots,"input-icon")])):t.createCommentVNode("",!0)]),d.$slots["clear-icon"]&&e.inputValue&&d.clearable&&!d.disabled&&!d.readonly?(t.openBlock(),t.createElementBlock("span",Dn,[t.renderSlot(d.$slots,"clear-icon",{clear:$})])):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0)])}}}),Mn={class:"dp__month_year_row"},Sn=t.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...dt},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(e,{expose:n,emit:o}){const l=o,r=e,{handleMonthYearChange:m,updateMonthYear:s}=dn(r,l),h=t.ref(!1),b=t.ref(!1);t.onMounted(()=>{l("mount")});const A=(w,Y)=>{Y!==void 0?w.value=Y:w.value=!w.value,w.value||l("overlay-closed")},g=(w=!1,Y)=>{N(w),A(h,Y)},B=(w=!1,Y)=>{N(w),A(b,Y)},N=w=>{w||l("reset-flow")};return n({toggleMonthPicker:g,toggleYearPicker:B,handleMonthYearChange:m}),(w,Y)=>(t.openBlock(),t.createElementBlock("div",Mn,[w.$slots["month-year"]?t.renderSlot(w.$slots,"month-year",t.normalizeProps(t.mergeProps({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:t.unref(s),handleMonthYearChange:t.unref(m),instance:e.instance}))):t.createCommentVNode("",!0)]))}}),An=["aria-label"],Tn={class:"dp__calendar_header",role:"row"},Rn={key:0,class:"dp__calendar_header_item",role:"gridcell"},Cn=["aria-label"],Pn=t.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Bn=["aria-label"],$n={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},En={class:"dp__cell_inner"},On=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Nn=t.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...dt},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:n,emit:o}){const l=o,r=e,{buildMultiLevelMatrix:m}=st(),{defaultedTransitions:s,defaultedConfig:h,defaultedAriaLabels:b,defaultedMultiCalendars:A,defaultedWeekNumbers:g}=he(r),B=t.ref(null),N=t.ref({bottom:"",left:"",transform:""}),w=t.ref([]),Y=t.ref(null),L=t.ref(!0),X=t.ref(""),T=t.ref([]),x=t.ref({left:"50%"}),U=t.computed(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),J=t.computed(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):Bt(r.formatLocale,r.locale,+r.weekStart));t.onMounted(()=>{l("mount",{cmp:"calendar",refs:w}),r.monthChangeOnScroll&&Y.value&&Y.value.addEventListener("wheel",v,{passive:!1})});const ae=f=>f?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",le=(f,R)=>{if(r.transitions){const a=ye(Ne(D(),r.month,r.year));X.value=oe(ye(Ne(D(),f,R)),a)?s.value[ae(!0)]:s.value[ae(!1)],L.value=!1,t.nextTick(()=>{L.value=!0})}},ee=t.computed(()=>({[r.calendarClassName]:!!r.calendarClassName})),q=t.computed(()=>f=>{const R=Ot(f);return{dp__marker_dot:R.type==="dot",dp__marker_line:R.type==="line"}}),F=t.computed(()=>f=>Z(f,B.value)),ie=t.computed(()=>({dp__calendar:!0,dp__calendar_next:A.value.count>0&&r.instance!==0})),y=t.computed(()=>f=>r.hideOffsetDates?f.current:!0),M=f=>i.format(f,"yyyy-MM-dd"),$=async(f,R,a)=>{var c,E;if(l("set-hover-date",f),(E=(c=f.marker)==null?void 0:c.tooltip)!=null&&E.length){const Q=ke(w.value[R][a]);if(Q){const{width:H,height:me}=Q.getBoundingClientRect();B.value=f.value;let ue={left:`${H/2}px`},pe=-50;if(await t.nextTick(),T.value[0]){const{left:ve,width:p}=T.value[0].getBoundingClientRect();ve<0&&(ue={left:"0"},pe=0,x.value.left=`${H/2}px`),window.innerWidth<ve+p&&(ue={right:"0"},pe=0,x.value.left=`${p-H/2}px`)}N.value={bottom:`${me}px`,...ue,transform:`translateX(${pe}%)`},l("tooltip-open",f.marker)}}},I=f=>{B.value&&(B.value=null,N.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),l("tooltip-close",f.marker))},K=(f,R,a)=>{f&&(Array.isArray(w.value[R])?w.value[R][a]=f:w.value[R]=[f]),r.arrowNavigation&&m(w.value,"calendar")},v=f=>{r.monthChangeOnScroll&&(f.preventDefault(),l("handle-scroll",f))},d=f=>g.value.type==="local"?i.getWeek(f.value,{weekStartsOn:+r.weekStart}):g.value.type==="iso"?i.getISOWeek(f.value):typeof g.value.type=="function"?g.value.type(f.value):"",P=f=>{const R=f[0];return g.value.hideOnOffsetDates?f.some(a=>a.current)?d(R):"":d(R)},V=(f,R)=>{Pe(f,h.value),l("select-date",R)},S=f=>{Pe(f,h.value)};return n({triggerTransition:le}),(f,R)=>{var a;return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(ie.value)},[t.createElementVNode("div",{ref_key:"calendarWrapRef",ref:Y,role:"grid",class:t.normalizeClass(ee.value),"aria-label":(a=t.unref(b))==null?void 0:a.calendarWrap},[t.createElementVNode("div",Tn,[f.weekNumbers?(t.openBlock(),t.createElementBlock("div",Rn,t.toDisplayString(f.weekNumName),1)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(J.value,(c,E)=>{var Q,H;return t.openBlock(),t.createElementBlock("div",{key:E,class:"dp__calendar_header_item",role:"gridcell","aria-label":(H=(Q=t.unref(b))==null?void 0:Q.weekDay)==null?void 0:H.call(Q,E)},[f.$slots["calendar-header"]?t.renderSlot(f.$slots,"calendar-header",{key:0,day:c,index:E}):t.createCommentVNode("",!0),f.$slots["calendar-header"]?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createTextVNode(t.toDisplayString(c),1)],64))],8,Cn)}),128))]),Pn,t.createVNode(t.Transition,{name:X.value,css:!!f.transitions},{default:t.withCtx(()=>{var c;return[L.value?(t.openBlock(),t.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((c=t.unref(b))==null?void 0:c.calendarDays)||void 0},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(U.value,(E,Q)=>(t.openBlock(),t.createElementBlock("div",{key:Q,class:"dp__calendar_row",role:"row"},[f.weekNumbers?(t.openBlock(),t.createElementBlock("div",$n,[t.createElementVNode("div",En,t.toDisplayString(P(E.days)),1)])):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(E.days,(H,me)=>{var ue,pe,ve;return t.openBlock(),t.createElementBlock("div",{id:M(H.value),ref_for:!0,ref:p=>K(p,Q,me),key:me+Q,role:"gridcell",class:"dp__calendar_item","aria-selected":(H.classData.dp__active_date||H.classData.dp__range_start||H.classData.dp__range_start)??void 0,"aria-disabled":H.classData.dp__cell_disabled||void 0,"aria-label":(pe=(ue=t.unref(b))==null?void 0:ue.day)==null?void 0:pe.call(ue,H),tabindex:"0",onClick:t.withModifiers(p=>V(p,H),["prevent"]),onKeydown:[t.withKeys(p=>f.$emit("select-date",H),["enter"]),t.withKeys(p=>f.$emit("handle-space",H),["space"])],onMouseenter:p=>$(H,Q,me),onMouseleave:p=>I(H)},[t.createElementVNode("div",{class:t.normalizeClass(["dp__cell_inner",H.classData])},[f.$slots.day&&y.value(H)?t.renderSlot(f.$slots,"day",{key:0,day:+H.text,date:H.value}):t.createCommentVNode("",!0),f.$slots.day?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createTextVNode(t.toDisplayString(H.text),1)],64)),H.marker&&y.value(H)?(t.openBlock(),t.createElementBlock(t.Fragment,{key:2},[f.$slots.marker?t.renderSlot(f.$slots,"marker",{key:0,marker:H.marker,day:+H.text,date:H.value}):(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(q.value(H.marker)),style:t.normalizeStyle(H.marker.color?{backgroundColor:H.marker.color}:{})},null,6))],64)):t.createCommentVNode("",!0),F.value(H.value)?(t.openBlock(),t.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:T,class:"dp__marker_tooltip",style:t.normalizeStyle(N.value)},[(ve=H.marker)!=null&&ve.tooltip?(t.openBlock(),t.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:S},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(H.marker.tooltip,(p,O)=>(t.openBlock(),t.createElementBlock("div",{key:O,class:"dp__tooltip_text"},[f.$slots["marker-tooltip"]?t.renderSlot(f.$slots,"marker-tooltip",{key:0,tooltip:p,day:H.value}):t.createCommentVNode("",!0),f.$slots["marker-tooltip"]?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createElementVNode("div",{class:"dp__tooltip_mark",style:t.normalizeStyle(p.color?{backgroundColor:p.color}:{})},null,4),t.createElementVNode("div",null,t.toDisplayString(p.text),1)],64))]))),128)),t.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:t.normalizeStyle(x.value)},null,4)])):t.createCommentVNode("",!0)],4)):t.createCommentVNode("",!0)],2)],40,On)}),128))]))),128)),f.$slots["calendar-bottom-marker-description-area"]?t.renderSlot(f.$slots,"calendar-bottom-marker-description-area",{key:0,weeks:U.value}):t.createCommentVNode("",!0)],8,Bn)):t.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,An)],2)}}}),_n=t.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(e){const n=e,o=t.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),l=t.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(r,m)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse})},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.value,(s,h)=>(t.openBlock(),t.createElementBlock("div",{key:s,class:t.normalizeClass(l.value)},[t.renderSlot(r.$slots,"default",{instance:s,index:h})],2))),128))],2))}}),Tt=e=>Array.isArray(e),In=(e,n,o)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(l=>Z(e,l))){const l=n.value.filter(r=>!Z(r,e));n.value=l.length?l:null}else(o&&+o>n.value.length||!o)&&n.value.push(e);else n.value=[e]},Yn=(e,n,o,l)=>{e&&(e[0]&&e[1]&&o||e[0]&&!e[1]&&l&&o)&&n("auto-apply")},xn=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(n=>Re(D(n),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=Re(D(e.value),e.timezone))},zn=(e,n,o,l)=>Array.isArray(n.value)&&n.value.length===2?l.value.fixedStart&&(oe(e,n.value[0])||Z(e,n.value[0]))?[n.value[0],e]:l.value.fixedEnd&&(re(e,n.value[1])||Z(e,n.value[1]))?[e,n.value[1]]:(o("invalid-fixed-range",e),n.value):[],Wn=(e,n,o,l)=>{const r=t.ref([]),m=t.ref(new Date),{modelValue:s,calendars:h,time:b}=yn(e,n),{defaultedMultiCalendars:A,defaultedRange:g,defaultedTz:B,propDates:N}=he(e),{validateMonthYearInRange:w,isDisabled:Y,isDateRangeAllowed:L,checkMinMaxRange:X}=je(e),T=t.computed(()=>u=>h.value[u]?h.value[u].month:0),x=t.computed(()=>u=>h.value[u]?h.value[u].year:0),U=(u,k,W)=>{var G,ne;h.value[u]||(h.value[u]={month:0,year:0}),h.value[u].month=ht(k)?(G=h.value[u])==null?void 0:G.month:k,h.value[u].year=ht(W)?(ne=h.value[u])==null?void 0:ne.year:W},J=()=>{e.autoApply&&n("select-date")};t.watch(s,(u,k)=>{JSON.stringify(u)!==JSON.stringify(k)&&ee()},{deep:!0}),t.onMounted(()=>{e.shadow||(s.value||P(),ee(!0),e.focusStartDate&&e.startDate&&P())});const ae=t.computed(()=>{var u;return(u=e.flow)!=null&&u.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),le=()=>{e.autoApply&&ae.value&&n("auto-apply")},ee=(u=!1)=>{if(s.value)return Array.isArray(s.value)?(r.value=s.value,I(u)):ie(s.value,u);if(A.value.count&&u&&!e.startDate)return F(D(),u)},q=()=>Array.isArray(s.value)&&g.value.enabled?i.getMonth(s.value[0])===i.getMonth(s.value[1]??s.value[0]):!1,F=(u,k=!1)=>{if((!A.value.count||!A.value.static||k)&&U(0,i.getMonth(u),i.getYear(u)),A.value.count&&(!A.value.solo||!s.value||q()))for(let W=1;W<A.value.count;W++){const G=i.set(D(),{month:T.value(W-1),year:x.value(W-1)}),ne=i.add(G,{months:1});h.value[W]={month:i.getMonth(ne),year:i.getYear(ne)}}},ie=(u,k)=>{F(u),A.value.count&&k&&d()},y=u=>{if(A.value.count){if(A.value.solo)return 0;const k=i.getMonth(u[0]),W=i.getMonth(u[1]);return Math.abs(W-k)<A.value.count?0:1}return 1},M=(u,k)=>{u[1]&&g.value.showLastInRange?F(u[y(u)],k):F(u[0],k)},$=(u,k)=>{if((g.value.enabled||e.weekPicker)&&!e.multiDates)return M(u,k);if(e.multiDates&&k){const W=u[u.length-1];return ie(W,k)}},I=u=>{const k=s.value;$(k,u),A.value.count&&A.value.solo&&d()},K=(u,k)=>{const W=i.set(D(),{month:T.value(k),year:x.value(k)}),G=u<0?i.addMonths(W,1):i.subMonths(W,1);w(i.getMonth(G),i.getYear(G),u<0,e.preventMinMaxNavigation)&&(U(k,i.getMonth(G),i.getYear(G)),n("update-month-year",{instance:k,month:i.getMonth(G),year:i.getYear(G)}),A.value.count&&!A.value.solo&&v(k),o())},v=u=>{for(let k=u-1;k>=0;k--){const W=i.subMonths(i.set(D(),{month:T.value(k+1),year:x.value(k+1)}),1);U(k,i.getMonth(W),i.getYear(W))}for(let k=u+1;k<=A.value.count-1;k++){const W=i.addMonths(i.set(D(),{month:T.value(k-1),year:x.value(k-1)}),1);U(k,i.getMonth(W),i.getYear(W))}},d=()=>{if(Array.isArray(s.value)&&s.value.length===2){const u=D(D(s.value[1]?s.value[1]:i.addMonths(s.value[0],1))),[k,W]=[i.getMonth(s.value[0]),i.getYear(s.value[0])],[G,ne]=[i.getMonth(s.value[1]),i.getYear(s.value[1])];(k!==G||k===G&&W!==ne)&&A.value.solo&&U(1,i.getMonth(u),i.getYear(u))}else s.value&&!Array.isArray(s.value)&&(U(0,i.getMonth(s.value),i.getYear(s.value)),F(D()))},P=()=>{e.startDate&&(U(0,i.getMonth(D(e.startDate)),i.getYear(D(e.startDate))),A.value.count&&v(0))},V=(u,k)=>{if(e.monthChangeOnScroll){const W=new Date().getTime()-m.value.getTime(),G=Math.abs(u.deltaY);let ne=500;G>1&&(ne=100),G>100&&(ne=0),W>ne&&(m.value=new Date,K(e.monthChangeOnScroll!=="inverse"?-u.deltaY:u.deltaY,k))}},S=(u,k,W=!1)=>{e.monthChangeOnArrows&&e.vertical===W&&f(u,k)},f=(u,k)=>{K(u==="right"?-1:1,k)},R=u=>{if(N.value.markers)return Ue(u.value,N.value.markers)},a=(u,k)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[u==0,!0];case"fair":return[u==0||k>u,!0];case"append":return[!1,!1];default:return[!1,!1]}},c=(u,k,W,G)=>{if(e.sixWeeks&&u.length<6){const ne=6-u.length,De=(k.getDay()+7-G)%7,ze=6-(W.getDay()+7-G)%7,[Oe,C]=a(De,ze);for(let z=1;z<=ne;z++)if(C?!!(z%2)==Oe:Oe){const Ce=u[0].days[0],Ae=E(i.addDays(Ce.value,-7),i.getMonth(k));u.unshift({days:Ae})}else{const Ce=u[u.length-1],Ae=Ce.days[Ce.days.length-1],pt=E(i.addDays(Ae.value,1),i.getMonth(k));u.push({days:pt})}}return u},E=(u,k)=>{const W=D(u),G=[];for(let ne=0;ne<7;ne++){const De=i.addDays(W,ne),Ee=i.getMonth(De)!==k;G.push({text:e.hideOffsetDates&&Ee?"":De.getDate(),value:De,current:!Ee,classData:{}})}return G},Q=(u,k)=>{const W=[],G=new Date(k,u),ne=new Date(k,u+1,0),De=e.weekStart,Ee=i.startOfWeek(G,{weekStartsOn:De}),ze=Oe=>{const C=E(Oe,u);if(W.push({days:C}),!W[W.length-1].days.some(z=>Z(ye(z.value),ye(ne)))){const z=i.addDays(Oe,7);ze(z)}};return ze(Ee),c(W,G,ne,De)},H=u=>{const k=We(D(u.value),b.hours,b.minutes,fe());n("date-update",k),e.multiDates?In(k,s,e.multiDatesLimit):s.value=k,l(),t.nextTick().then(()=>{le()})},me=u=>g.value.noDisabledRange?kt(r.value[0],u).some(W=>Y(W)):!1,ue=()=>{r.value=s.value?s.value.slice():[],r.value.length===2&&!(g.value.fixedStart||g.value.fixedEnd)&&(r.value=[])},pe=(u,k)=>{const W=[D(u.value),i.addDays(D(u.value),+g.value.autoRange)];L(W)?(k&&ve(u.value),r.value=W):n("invalid-date",u.value)},ve=u=>{const k=i.getMonth(D(u)),W=i.getYear(D(u));if(U(0,k,W),A.value.count>0)for(let G=1;G<A.value.count;G++){const ne=Lt(i.set(D(u),{year:T.value(G-1),month:x.value(G-1)}));U(G,ne.month,ne.year)}},p=u=>{if(me(u.value)||!X(u.value,s.value,g.value.fixedStart?0:1))return n("invalid-date",u.value);r.value=zn(D(u.value),s,n,g)},O=(u,k)=>{if(ue(),g.value.autoRange)return pe(u,k);if(g.value.fixedStart||g.value.fixedEnd)return p(u);r.value[0]?X(D(u.value),s.value)&&!me(u.value)?re(D(u.value),D(r.value[0]))?(r.value.unshift(D(u.value)),n("range-end",r.value[0])):(r.value[1]=D(u.value),n("range-end",r.value[1])):(e.autoApply&&n("auto-apply-invalid",u.value),n("invalid-date",u.value)):(r.value[0]=D(u.value),n("range-start",r.value[0]))},fe=(u=!0)=>e.enableSeconds?Array.isArray(b.seconds)?u?b.seconds[0]:b.seconds[1]:b.seconds:0,ge=u=>{r.value[u]=We(r.value[u],b.hours[u],b.minutes[u],fe(u!==1))},$e=()=>{var u,k;r.value[0]&&r.value[1]&&+((u=r.value)==null?void 0:u[0])>+((k=r.value)==null?void 0:k[1])&&(r.value.reverse(),n("range-start",r.value[0]),n("range-end",r.value[1]))},_=()=>{r.value.length&&(r.value[0]&&!r.value[1]?ge(0):(ge(0),ge(1),l()),$e(),s.value=r.value.slice(),Yn(r.value,n,e.autoApply,e.modelAuto))};return{calendars:h,modelValue:s,month:T,year:x,time:b,getCalendarDays:Q,getMarker:R,handleScroll:V,handleSwipe:f,handleArrow:S,selectDate:(u,k=!1)=>{if(Y(u.value)||!u.current&&e.hideOffsetDates)return n("invalid-date",u.value);if(!g.value.enabled)return H(u);Tt(b.hours)&&Tt(b.minutes)&&!e.multiDates&&(O(u,k),_())},updateMonthYear:(u,k)=>{var G;U(u,k.month,k.year),A.value.count&&!A.value.solo&&v(u),n("update-month-year",{instance:u,month:k.month,year:k.year}),o(A.value.solo?u:void 0);const W=(G=e.flow)!=null&&G.length?e.flow[e.flowStep]:void 0;!k.fromNav&&(W===be.month||W===be.year)&&l()},presetDate:(u,k)=>{xn({value:u,modelValue:s,range:g.value.enabled,timezone:k?void 0:B.value.timezone}),J(),e.multiCalendars&&t.nextTick().then(()=>ee(!0))},selectCurrentDate:()=>{g.value.enabled?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=re(D(),s.value[0])?[D(),s.value[0]]:[s.value[0],D()]:s.value=[D()]:s.value=D(),J()}}},Ln=t.defineComponent({__name:"DatePicker",props:{...dt},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(e,{expose:n,emit:o}){const l=o,r=e,{calendars:m,month:s,year:h,modelValue:b,time:A,getCalendarDays:g,getMarker:B,handleArrow:N,handleScroll:w,handleSwipe:Y,selectDate:L,updateMonthYear:X,presetDate:T,selectCurrentDate:x}=Wn(r,l,I,K),U=t.useSlots(),{setHoverDate:J,getDayClassData:ae,clearHoverDate:le}=hn(b,r),{defaultedMultiCalendars:ee}=he(r),q=t.ref([]),F=t.ref([]),ie=xe(U,"calendar"),y=xe(U,"monthYear"),M=S=>{r.shadow||l("mount",S)};t.watch(m,()=>{r.shadow||setTimeout(()=>{l("recalculate-position")},0)},{deep:!0});const $=t.computed(()=>S=>g(s.value(S),h.value(S)).map(f=>({...f,days:f.days.map(R=>(R.marker=B(R),R.classData=ae(R),R))})));function I(S){var f;S||S===0?(f=F.value[S])==null||f.triggerTransition(s.value(S),h.value(S)):F.value.forEach((R,a)=>R.triggerTransition(s.value(a),h.value(a)))}function K(){l("update-flow-step")}const v=(S,f=!1)=>{L(S,f),r.spaceConfirm&&l("select-date")};return n({clearHoverDate:le,presetDate:T,selectCurrentDate:x,toggleMonthPicker:(S,f,R=0)=>{var a;(a=q.value[R])==null||a.toggleMonthPicker(S,f)},toggleYearPicker:(S,f,R=0)=>{var a;(a=q.value[R])==null||a.toggleYearPicker(S,f)},handleArrow:N,updateMonthYear:X,getSidebarProps:()=>({modelValue:b,month:s,year:h,time:A,updateMonthYear:X,selectDate:L,presetDate:T})}),(S,f)=>(t.openBlock(),t.createBlock(_n,{"multi-calendars":t.unref(ee).count,collapse:S.collapse},{default:t.withCtx(({instance:R,index:a})=>[S.disableMonthYearSelect?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(Sn,t.mergeProps({key:0,ref:c=>{c&&(q.value[a]=c)},months:t.unref(Et)(S.formatLocale,S.locale,S.monthNameFormat),years:t.unref($t)(S.yearRange,S.reverseYears),month:t.unref(s)(R),year:t.unref(h)(R),instance:R},S.$props,{onMount:f[0]||(f[0]=c=>M(t.unref(Ye).header)),onResetFlow:f[1]||(f[1]=c=>S.$emit("reset-flow")),onUpdateMonthYear:c=>t.unref(X)(R,c),onOverlayClosed:f[2]||(f[2]=c=>S.$emit("focus-menu"))}),t.createSlots({_:2},[t.renderList(t.unref(y),(c,E)=>({name:c,fn:t.withCtx(Q=>[t.renderSlot(S.$slots,c,t.normalizeProps(t.guardReactiveProps(Q)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),t.createVNode(Nn,t.mergeProps({ref:c=>{c&&(F.value[a]=c)},"mapped-dates":$.value(R),month:t.unref(s)(R),year:t.unref(h)(R),instance:R},S.$props,{onSelectDate:c=>t.unref(L)(c,R!==1),onHandleSpace:c=>v(c,R!==1),onSetHoverDate:f[3]||(f[3]=c=>t.unref(J)(c)),onHandleScroll:c=>t.unref(w)(c,R),onHandleSwipe:c=>t.unref(Y)(c,R),onMount:f[4]||(f[4]=c=>M(t.unref(Ye).calendar)),onResetFlow:f[5]||(f[5]=c=>S.$emit("reset-flow")),onTooltipOpen:f[6]||(f[6]=c=>S.$emit("tooltip-open",c)),onTooltipClose:f[7]||(f[7]=c=>S.$emit("tooltip-close",c))}),t.createSlots({_:2},[t.renderList(t.unref(ie),(c,E)=>({name:c,fn:t.withCtx(Q=>[t.renderSlot(S.$slots,c,t.normalizeProps(t.guardReactiveProps({...Q})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]))}}),Vn=["id","aria-label"],Hn={key:0,class:"dp--menu-load-container"},jn=[t.createElementVNode("span",{class:"dp--menu-loader"},null,-1)],Kn={key:0,class:"dp__sidebar_left"},Un=["onClick","onKeydown"],qn={key:2,class:"dp__sidebar_right"},Gn={key:3,class:"dp__action_extra"},Rt=t.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Xe,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(e,{expose:n,emit:o}){const l=o,r=e,m=t.ref(null),s=t.computed(()=>{const{openOnTop:p,...O}=r;return{...O,flowStep:q.value,collapse:r.collapse,noOverlayFocus:r.noOverlayFocus,menuWrapRef:m.value}}),{setMenuFocused:h,setShiftKey:b,control:A}=wt(),g=t.useSlots(),{defaultedTextInput:B,defaultedInline:N,defaultedConfig:w}=he(r),Y=t.ref(null),L=t.ref(0),X=t.ref(null),T=t.ref(!1),x=t.ref(null);t.onMounted(()=>{if(!r.shadow){T.value=!0,U(),window.addEventListener("resize",U);const p=ke(m);if(p&&!B.value.enabled&&!N.value.enabled&&(h(!0),$()),p){const O=fe=>{w.value.allowPreventDefault&&fe.preventDefault(),Pe(fe,w.value,!0)};p.addEventListener("pointerdown",O),p.addEventListener("mousedown",O)}}}),t.onUnmounted(()=>{window.removeEventListener("resize",U)});const U=()=>{const p=ke(X);p&&(L.value=p.getBoundingClientRect().width)},{arrowRight:J,arrowLeft:ae,arrowDown:le,arrowUp:ee}=st(),{flowStep:q,updateFlowStep:F,childMount:ie,resetFlow:y}=vn(r,l,x),M=t.computed(()=>Ln),$=()=>{const p=ke(m);p&&p.focus({preventScroll:!0})},I=t.computed(()=>{var p;return((p=x.value)==null?void 0:p.getSidebarProps())||{}}),K=()=>{r.openOnTop&&l("recalculate-position")},v=t.computed(()=>r.monthPicker||r.yearPicker?xe(g,"monthYear"):xe(g,"shared")),d=t.computed(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),P=t.computed(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),V=t.computed(()=>({dp__menu:!0,dp__menu_index:!N.value.enabled,dp__relative:N.value.enabled,[r.menuClassName]:!!r.menuClassName})),S=p=>{Pe(p,w.value,!0)},f=()=>{r.escClose&&l("close-picker")},R=p=>{if(r.arrowNavigation){if(p==="up")return ee();if(p==="down")return le();if(p==="left")return ae();if(p==="right")return J()}else p==="left"||p==="up"?H("handleArrow","left",0,p==="up"):H("handleArrow","right",0,p==="down")},a=p=>{b(p.shiftKey),!r.disableMonthYearSelect&&p.code==="Tab"&&p.target.classList.contains("dp__menu")&&A.value.shiftKeyInMenu&&(p.preventDefault(),Pe(p,w.value,!0),l("close-picker"))},c=()=>{$(),l("time-picker-close")},E=()=>{var p;(p=x.value)==null||p.toggleTimePicker(!1,!1)},Q=p=>{var O;return p==="time"?(O=x.value)==null?void 0:O.toggleTimePicker(!0,!1):E()},H=(p,...O)=>{var fe,ge;(fe=x.value)!=null&&fe[p]&&((ge=x.value)==null||ge[p](...O))},me=()=>{H("selectCurrentDate")},ue=(p,O)=>{H("presetDate",p,O)},pe=()=>{H("clearHoverDate")};return n({updateMonthYear:(p,O)=>{H("updateMonthYear",p,O)},switchView:Q}),(p,O)=>{var fe,ge,$e;return t.openBlock(),t.createElementBlock("div",{id:p.uid?`dp-menu-${p.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog","aria-label":(fe=p.ariaLabels)==null?void 0:fe.menu,class:t.normalizeClass(V.value),onMouseleave:pe,onClick:S,onKeydown:[t.withKeys(f,["esc"]),O[15]||(O[15]=t.withKeys(t.withModifiers(_=>R("left"),["prevent"]),["left"])),O[16]||(O[16]=t.withKeys(t.withModifiers(_=>R("up"),["prevent"]),["up"])),O[17]||(O[17]=t.withKeys(t.withModifiers(_=>R("down"),["prevent"]),["down"])),O[18]||(O[18]=t.withKeys(t.withModifiers(_=>R("right"),["prevent"]),["right"])),a]},[(p.disabled||p.readonly)&&t.unref(N).enabled||p.loading?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(P.value)},[p.loading?(t.openBlock(),t.createElementBlock("div",Hn,jn)):t.createCommentVNode("",!0)],2)):t.createCommentVNode("",!0),!t.unref(N).enabled&&!p.teleportCenter?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(d.value)},null,2)):t.createCommentVNode("",!0),t.createElementVNode("div",{ref_key:"innerMenuRef",ref:X,class:t.normalizeClass({dp__menu_content_wrapper:((ge=p.presetDates)==null?void 0:ge.length)||!!p.$slots["left-sidebar"]||!!p.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(($e=p.presetDates)==null?void 0:$e.length)||!!p.$slots["left-sidebar"]||!!p.$slots["right-sidebar"]}),style:t.normalizeStyle({"--dp-menu-width":`${L.value}px`})},[p.$slots["left-sidebar"]?(t.openBlock(),t.createElementBlock("div",Kn,[t.renderSlot(p.$slots,"left-sidebar",t.normalizeProps(t.guardReactiveProps(I.value)))])):t.createCommentVNode("",!0),p.presetDates.length?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0})},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(p.presetDates,(_,Ke)=>(t.openBlock(),t.createElementBlock(t.Fragment,{key:Ke},[_.slot?t.renderSlot(p.$slots,_.slot,{key:0,presetDate:ue,label:_.label,value:_.value}):(t.openBlock(),t.createElementBlock("button",{key:1,type:"button",style:t.normalizeStyle(_.style||{}),class:t.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),onClick:t.withModifiers(Me=>ue(_.value,_.noTz),["prevent"]),onKeydown:[t.withKeys(t.withModifiers(Me=>ue(_.value,_.noTz),["prevent"]),["enter"]),t.withKeys(t.withModifiers(Me=>ue(_.value,_.noTz),["prevent"]),["space"])]},t.toDisplayString(_.label),47,Un))],64))),128))],2)):t.createCommentVNode("",!0),t.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:Y,class:"dp__instance_calendar",role:"document"},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(M.value),t.mergeProps({ref_key:"dynCmpRef",ref:x},s.value,{"flow-step":t.unref(q),onMount:t.unref(ie),onUpdateFlowStep:t.unref(F),onResetFlow:t.unref(y),onFocusMenu:$,onSelectDate:O[0]||(O[0]=_=>p.$emit("select-date")),onDateUpdate:O[1]||(O[1]=_=>p.$emit("date-update",_)),onTooltipOpen:O[2]||(O[2]=_=>p.$emit("tooltip-open",_)),onTooltipClose:O[3]||(O[3]=_=>p.$emit("tooltip-close",_)),onAutoApply:O[4]||(O[4]=_=>p.$emit("auto-apply",_)),onRangeStart:O[5]||(O[5]=_=>p.$emit("range-start",_)),onRangeEnd:O[6]||(O[6]=_=>p.$emit("range-end",_)),onInvalidFixedRange:O[7]||(O[7]=_=>p.$emit("invalid-fixed-range",_)),onTimeUpdate:O[8]||(O[8]=_=>p.$emit("time-update")),onAmPmChange:O[9]||(O[9]=_=>p.$emit("am-pm-change",_)),onTimePickerOpen:O[10]||(O[10]=_=>p.$emit("time-picker-open",_)),onTimePickerClose:c,onRecalculatePosition:K,onUpdateMonthYear:O[11]||(O[11]=_=>p.$emit("update-month-year",_)),onAutoApplyInvalid:O[12]||(O[12]=_=>p.$emit("auto-apply-invalid",_)),onInvalidDate:O[13]||(O[13]=_=>p.$emit("invalid-date",_)),"onUpdate:internalModelValue":O[14]||(O[14]=_=>p.$emit("update:internal-model-value",_))}),t.createSlots({_:2},[t.renderList(v.value,(_,Ke)=>({name:_,fn:t.withCtx(Me=>[t.renderSlot(p.$slots,_,t.normalizeProps(t.guardReactiveProps({...Me})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),p.$slots["right-sidebar"]?(t.openBlock(),t.createElementBlock("div",qn,[t.renderSlot(p.$slots,"right-sidebar",t.normalizeProps(t.guardReactiveProps(I.value)))])):t.createCommentVNode("",!0),p.$slots["action-extra"]?(t.openBlock(),t.createElementBlock("div",Gn,[p.$slots["action-extra"]?t.renderSlot(p.$slots,"action-extra",{key:0,selectCurrentDate:me}):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0)],6)],42,Vn)}}}),Jn=typeof window<"u"?window:void 0,ft=()=>{},Xn=e=>t.getCurrentScope()?(t.onScopeDispose(e),!0):!1,Qn=(e,n,o,l)=>{if(!e)return ft;let r=ft;const m=t.watch(()=>t.unref(e),h=>{r(),h&&(h.addEventListener(n,o,l),r=()=>{h.removeEventListener(n,o,l),r=ft})},{immediate:!0,flush:"post"}),s=()=>{m(),r()};return Xn(s),s},Zn=(e,n,o,l={})=>{const{window:r=Jn,event:m="pointerdown"}=l;return r?Qn(r,m,h=>{const b=ke(e),A=ke(n);!b||!A||b===h.target||h.composedPath().includes(b)||h.composedPath().includes(A)||o(h)},{passive:!0}):void 0},Fn=t.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Xe},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(e,{expose:n,emit:o}){const l=o,r=e,m=t.useSlots(),s=t.ref(!1),h=t.toRef(r,"modelValue"),b=t.toRef(r,"timezone"),A=t.ref(null),g=t.ref(null),B=t.ref(null),N=t.ref(!1),w=t.ref(null),Y=t.ref(!1),L=t.ref(!1),X=t.ref(!1),{setMenuFocused:T,setShiftKey:x}=wt(),{clearArrowNav:U}=st(),{validateDate:J,isValidTime:ae}=je(r),{defaultedTransitions:le,defaultedTextInput:ee,defaultedInline:q,defaultedConfig:F,defaultedRange:ie}=he(r),{menuTransition:y,showTransition:M}=gn(le);t.onMounted(()=>{R(r.modelValue),t.nextTick().then(()=>{q.value.enabled||window==null||window.addEventListener("resize",ve)}),q.value.enabled&&(s.value=!0),window==null||window.addEventListener("keyup",p),window==null||window.addEventListener("keydown",O)}),t.onUnmounted(()=>{q.value.enabled||window==null||window.removeEventListener("resize",ve),window==null||window.removeEventListener("keyup",p),window==null||window.removeEventListener("keydown",O)});const $=xe(m,"all",r.presetDates),I=xe(m,"input");t.watch([h,b],()=>{R(h.value)},{deep:!0});const{openOnTop:K,menuStyle:v,xCorrect:d,setMenuPosition:P,shadowRender:V}=fn({menuRef:A,menuRefInner:g,inputRef:B,pickerWrapperRef:w,inline:q,emit:l,props:r,slots:m}),{inputValue:S,internalModelValue:f,parseExternalModelValue:R,emitModelValue:a,formatInputValue:c,checkBeforeEmit:E}=cn(l,r,N),Q=t.computed(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:q.value.enabled,"dp--flex-display-collapsed":X.value,dp__flex_display_with_input:q.value.input})),H=t.computed(()=>r.dark?"dp__theme_dark":"dp__theme_light"),me=t.computed(()=>({to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||q.value.enabled})),ue=t.computed(()=>({class:"dp__outer_menu_wrap"})),pe=t.computed(()=>q.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),ve=()=>{var z;s.value&&P();const C=(z=g.value)==null?void 0:z.$el.getBoundingClientRect().width;X.value=document.body.offsetWidth<=C},p=C=>{C.key==="Tab"&&!q.value.enabled&&!r.teleport&&F.value.tabOutClosesMenu&&(w.value.contains(document.activeElement)||Se()),L.value=C.shiftKey},O=C=>{L.value=C.shiftKey},fe=()=>{!r.disabled&&!r.readonly&&(V(Rt,r),P(!1),s.value=!0,s.value&&l("open"),s.value||Me(),R(r.modelValue))},ge=()=>{var C;S.value="",Me(),(C=B.value)==null||C.setParsedDate(null),l("update:model-value",null),l("update:model-timezone-value",null),l("cleared"),F.value.closeOnClearValue&&Se()},$e=()=>{const C=f.value;return!C||!Array.isArray(C)&&J(C)?!0:Array.isArray(C)?r.multiDates||C.length===2&&J(C[0])&&J(C[1])?!0:ie.value.partialRange&&!r.timePicker?J(C[0]):!1:!1},_=()=>{E()&&$e()?(a(),Se()):l("invalid-select",f.value)},Ke=()=>{B.value&&ee.value.enabled&&B.value.setParsedDate(f.value)},Me=()=>{ee.value.enabled||(f.value=null)},Se=()=>{q.value.enabled||(s.value&&(s.value=!1,d.value=!1,T(!1),x(!1),U(),l("closed"),S.value&&R(h.value)),Me(),l("blur"))},Ct=(C,z,j=!1)=>{if(!C){f.value=null;return}const Ce=Array.isArray(C)?!C.some(pt=>!J(pt)):J(C),Ae=ae(C);Ce&&Ae&&(f.value=C,z&&(Y.value=j,_(),l("text-submit")))},u=()=>{r.autoApply&&ae(f.value)&&a(),Ke()},k=()=>s.value?Se():fe(),W=C=>{f.value=C},G=()=>{ee.value.enabled&&(N.value=!0,c()),l("focus")},ne=()=>{if(ee.value.enabled&&(N.value=!1,R(r.modelValue),Y.value)){const C=It(w.value,L.value);C==null||C.focus()}l("blur")},De=C=>{g.value&&g.value.updateMonthYear(0,{month:yt(C.month),year:yt(C.year)})},Ee=C=>{R(C??r.modelValue)},ze=(C,z)=>{var j;(j=g.value)==null||j.switchView(C,z)},Oe=C=>F.value.onClickOutside?F.value.onClickOutside(C):Se();return Zn(A,B,()=>Oe($e)),n({closeMenu:Se,selectDate:_,clearValue:ge,openMenu:fe,formatInputValue:c,updateInternalModelValue:W,setMonthYear:De,parseModel:Ee,switchView:ze,toggleMenu:k}),(C,z)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:w,class:t.normalizeClass(Q.value),"data-datepicker-instance":""},[t.createVNode(wn,t.mergeProps({ref_key:"inputRef",ref:B,"input-value":t.unref(S),"onUpdate:inputValue":z[0]||(z[0]=j=>t.isRef(S)?S.value=j:null),"is-menu-open":s.value},C.$props,{onClear:ge,onOpen:fe,onSetInputDate:Ct,onSetEmptyDate:t.unref(a),onSelectDate:_,onToggle:k,onClose:Se,onFocus:G,onBlur:ne,onRealBlur:z[1]||(z[1]=j=>N.value=!1)}),t.createSlots({_:2},[t.renderList(t.unref(I),(j,Ce)=>({name:j,fn:t.withCtx(Ae=>[t.renderSlot(C.$slots,j,t.normalizeProps(t.guardReactiveProps(Ae)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(t.openBlock(),t.createBlock(t.resolveDynamicComponent(C.teleport?t.Teleport:"div"),t.normalizeProps(t.guardReactiveProps(me.value)),{default:t.withCtx(()=>[t.createVNode(t.Transition,{name:t.unref(y)(t.unref(K)),css:t.unref(M)&&!t.unref(q).enabled},{default:t.withCtx(()=>[s.value?(t.openBlock(),t.createElementBlock("div",t.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:A},ue.value,{class:{"dp--menu-wrapper":!t.unref(q).enabled},style:t.unref(q).enabled?void 0:t.unref(v)}),[t.createVNode(Rt,t.mergeProps({ref_key:"dpMenuRef",ref:g},C.$props,{"internal-model-value":t.unref(f),"onUpdate:internalModelValue":z[2]||(z[2]=j=>t.isRef(f)?f.value=j:null),class:{[H.value]:!0,"dp--menu-wrapper":C.teleport},"open-on-top":t.unref(K),"no-overlay-focus":pe.value,collapse:X.value,onClosePicker:Se,onSelectDate:_,onAutoApply:j=>!0,onTimeUpdate:u,onFlowStep:z[3]||(z[3]=j=>C.$emit("flow-step",j)),onUpdateMonthYear:z[4]||(z[4]=j=>C.$emit("update-month-year",j)),onInvalidSelect:z[5]||(z[5]=j=>C.$emit("invalid-select",t.unref(f))),onAutoApplyInvalid:z[6]||(z[6]=j=>C.$emit("invalid-select",j)),onInvalidFixedRange:z[7]||(z[7]=j=>C.$emit("invalid-fixed-range",j)),onRecalculatePosition:t.unref(P),onTooltipOpen:z[8]||(z[8]=j=>C.$emit("tooltip-open",j)),onTooltipClose:z[9]||(z[9]=j=>C.$emit("tooltip-close",j)),onTimePickerOpen:z[10]||(z[10]=j=>C.$emit("time-picker-open",j)),onTimePickerClose:z[11]||(z[11]=j=>C.$emit("time-picker-close",j)),onAmPmChange:z[12]||(z[12]=j=>C.$emit("am-pm-change",j)),onRangeStart:z[13]||(z[13]=j=>C.$emit("range-start",j)),onRangeEnd:z[14]||(z[14]=j=>C.$emit("range-end",j)),onDateUpdate:z[15]||(z[15]=j=>C.$emit("date-update",j)),onInvalidDate:z[16]||(z[16]=j=>C.$emit("invalid-date",j))}),t.createSlots({_:2},[t.renderList(t.unref($),(j,Ce)=>({name:j,fn:t.withCtx(Ae=>[t.renderSlot(C.$slots,j,t.normalizeProps(t.guardReactiveProps({...Ae})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):t.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),mt=(()=>{const e=Fn;return e.install=n=>{n.component("Vue3DatePicker",e)},e})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"}))).forEach(([e,n])=>{e!=="default"&&(mt[e]=n)}),mt});
